# üìã PLAN PARA COMPLETAR M√ìDULO PADRON_LICENCIAS

## üìä ESTADO ACTUAL (2025-11-20)

**Componentes completados:** 20/95 (21.1%)
**SPs desplegados:** 77
**Batches completados:** 4

---

## üéØ COMPONENTES COMPLETADOS (20)

### Batch 1 (5 componentes)
1. ‚úÖ Agendavisitasfrm
2. ‚úÖ BloquearAnunciorm
3. ‚úÖ BloquearLicenciafrm
4. ‚úÖ BloquearTramitefrm
5. ‚úÖ BusquedaActividadFrm

### Batch 2 (5 componentes)
6. ‚úÖ buscagirofrm
7. ‚úÖ catalogogirosfrm
8. ‚úÖ Cruces
9. ‚úÖ formabuscalle
10. ‚úÖ formabuscolonia

### Batch 3 (5 componentes)
11. ‚úÖ CatRequisitos
12. ‚úÖ LigaRequisitos
13. ‚úÖ ZonaLicencia
14. ‚úÖ ZonaAnuncio
15. ‚úÖ empresasfrm

### Batch 4 (5 componentes)
16. ‚úÖ ligaAnunciofrm
17. ‚úÖ bloqueoDomiciliosfrm
18. ‚úÖ bloqueoRFCfrm
19. ‚úÖ bajaAnunciofrm
20. ‚úÖ bajaLicenciafrm

---

## üìù COMPONENTES PENDIENTES (75)

### Batch 5 (21-25) - CONSULTAS
21. ‚è≥ busque
22. ‚è≥ consAnun400frm
23. ‚è≥ consLic400frm
24. ‚è≥ consultaAnunciofrm
25. ‚è≥ consultaLicenciafrm

### Batch 6 (26-30) - CONSULTAS Y TR√ÅMITES
26. ‚è≥ ConsultaLicenciasfrm
27. ‚è≥ ConsultaTramitefrm
28. ‚è≥ consultausuariosfrm
29. ‚è≥ cancelaTramitefrm
30. ‚è≥ modtramitefrm

### Batch 7 (31-35) - DICT√ÅMENES Y CONSTANCIAS
31. ‚è≥ dictamenfrm
32. ‚è≥ dictamenusodesuelo
33. ‚è≥ constanciafrm
34. ‚è≥ constanciaNoOficialfrm
35. ‚è≥ certificacionesfrm

### Batch 8 (36-40) - DETALLES Y REPORTES
36. ‚è≥ DetalleAnuncio
37. ‚è≥ DetalleLicencia
38. ‚è≥ repestado
39. ‚è≥ repdoc
40. ‚è≥ ReporteAnunExcelfrm

### Batch 9 (41-45) - CAT√ÅLOGOS Y CONFIGURACI√ìN
41. ‚è≥ CatalogoActividadesFrm
42. ‚è≥ BusquedaScianFrm
43. ‚è≥ dependenciasfrm
44. ‚è≥ doctosfrm
45. ‚è≥ tipobloqueofrm

### Batch 10 (46-50) - FIRMA Y USUARIOS
46. ‚è≥ firma
47. ‚è≥ firmausuario
48. ‚è≥ sfrm_chgpass
49. ‚è≥ sfrm_chgfirma
50. ‚è≥ privilegios

### Batch 11 (51-55) - IMPRESI√ìN Y FORMATOS
51. ‚è≥ ImpLicenciaReglamentadaFrm
52. ‚è≥ ImpLicenciaReglamentada
53. ‚è≥ frmImpLicenciaReglamentada
54. ‚è≥ ImpOficiofrm
55. ‚è≥ ImpRecibofrm

### Batch 12 (56-60) - FORMATOS Y ECOLOG√çA
56. ‚è≥ formatosEcologiafrm
57. ‚è≥ Responsivafrm
58. ‚è≥ Hastafrm
59. ‚è≥ estatusfrm
60. ‚è≥ fechasegfrm

### Batch 13 (61-65) - GRUPOS Y GESTI√ìN
61. ‚è≥ GruposAnunciosAbcfrm
62. ‚è≥ gruposAnunciosfrm
63. ‚è≥ GruposLicenciasAbcfrm
64. ‚è≥ gruposLicenciasfrm
65. ‚è≥ GirosDconAdeudofrm

### Batch 14 (66-70) - VIGENTES Y SCIAN
66. ‚è≥ LicenciasVigentesfrm
67. ‚è≥ girosVigentesCteXgirofrm
68. ‚è≥ grs_dlg
69. ‚è≥ frmselcalle
70. ‚è≥ ReactivaTramite

### Batch 15 (71-75) - M√ìDULOS ESPECIALES
71. ‚è≥ Semaforo
72. ‚è≥ SGCv2
73. ‚è≥ TDMConection
74. ‚è≥ webBrowser
75. ‚è≥ psplash

### Batch 16 (76-80) - PREPAGO Y PROPUESTAS
76. ‚è≥ prepagofrm
77. ‚è≥ Propuestatab
78. ‚è≥ prophologramasfrm
79. ‚è≥ h_bloqueoDomiciliosfrm
80. ‚è≥ observacionfrm

### Batch 17 (81-85) - MODIFICACIONES Y ADEUDOS
81. ‚è≥ modlicfrm
82. ‚è≥ modlicAdeudofrm
83. ‚è≥ regHfrm
84. ‚è≥ repsuspendidasfrm
85. ‚è≥ repEstadisticosLicfrm

### Batch 18 (86-90) - TRAMITES Y BAJAS
86. ‚è≥ TramiteBajaAnun
87. ‚è≥ TramiteBajaLic
88. ‚è≥ RegistroSolicitud
89. ‚è≥ CatastroDM
90. ‚è≥ cartonva

### Batch 19 (91-95) - CARGA Y UTILIDADES
91. ‚è≥ carga
92. ‚è≥ carga_imagen
93. ‚è≥ cargadatosfrm
94. ‚è≥ UnidadImg
95. ‚è≥ index

---

## üöÄ ESTRATEGIA DE COMPLETADO

### Fase 1: COMPONENTES CR√çTICOS (Batches 5-8)
**Prioridad:** ALTA
**Componentes:** 20 (21-40)
**Tiempo estimado:** 3-4 horas

Incluye:
- Consultas fundamentales
- Dict√°menes y constancias
- Detalles y reportes b√°sicos

### Fase 2: CAT√ÅLOGOS Y CONFIGURACI√ìN (Batches 9-12)
**Prioridad:** MEDIA
**Componentes:** 20 (41-60)
**Tiempo estimado:** 3-4 horas

Incluye:
- Cat√°logos complementarios
- Firma y usuarios
- Impresi√≥n y formatos

### Fase 3: GESTI√ìN AVANZADA (Batches 13-16)
**Prioridad:** MEDIA
**Componentes:** 20 (61-80)
**Tiempo estimado:** 3-4 horas

Incluye:
- Grupos y clasificaciones
- M√≥dulos especiales
- Prepago y propuestas

### Fase 4: UTILIDADES Y COMPLEMENTOS (Batches 17-19)
**Prioridad:** BAJA
**Componentes:** 15 (81-95)
**Tiempo estimado:** 2-3 horas

Incluye:
- Modificaciones y adeudos
- Tr√°mites de baja
- Carga y utilidades

---

## üìä ESTIMACI√ìN DE TIEMPO TOTAL

| Fase | Batches | Componentes | Tiempo |
|------|---------|-------------|--------|
| Completado | 1-4 | 20 | ‚úÖ 3.75h |
| Fase 1 | 5-8 | 20 | 3-4h |
| Fase 2 | 9-12 | 20 | 3-4h |
| Fase 3 | 13-16 | 20 | 3-4h |
| Fase 4 | 17-19 | 15 | 2-3h |
| **TOTAL** | **1-19** | **95** | **15-19h** |

---

## üéØ METODOLOG√çA ESTABLECIDA

### Para cada componente:

1. **Verificar archivos SQL existentes**
   ```bash
   find database/database/ -name "componente_*.sql"
   ```

2. **Crear deploy consolidado**
   - Usar FUNCTIONS (no PROCEDURES)
   - Schema correcto: public o comun
   - Nombres en min√∫sculas con guiones bajos

3. **Actualizar componente Vue**
   - Patr√≥n de 6 par√°metros
   - Module: 'padron_licencias'
   - Database: 'guadalajara'
   - Schema: 'public' o 'comun'

4. **Verificar par√°metros**
   - Coincidencia exacta Vue ‚Üî SQL
   - Tipos correctos (integer, string, etc.)
   - Valores DEFAULT donde corresponda

5. **Crear deploy batch consolidado**
   - Incluir \i para todos los componentes
   - Queries de verificaci√≥n
   - Resumen al final

---

## üìù PATR√ìN EST√ÅNDAR

### SQL (FUNCTION):
```sql
CREATE OR REPLACE FUNCTION public.sp_nombre(
    p_param1 INTEGER,
    p_param2 VARCHAR
)
RETURNS TABLE(campo1 INTEGER, campo2 VARCHAR) AS $$
BEGIN
    RETURN QUERY
    SELECT ... FROM comun.tabla WHERE ...;
END;
$$ LANGUAGE plpgsql;
```

### Vue (execute):
```javascript
const response = await execute(
  'sp_nombre',
  'padron_licencias',
  [
    { nombre: 'p_param1', valor: value1, tipo: 'integer' },
    { nombre: 'p_param2', valor: value2, tipo: 'string' }
  ],
  'guadalajara',
  null,
  'public'  // o 'comun'
)
```

---

## üîÑ PROCESO AUTOMATIZADO RECOMENDADO

### Script de procesamiento masivo:
```bash
#!/bin/bash
# process_batch.sh

BATCH_NUM=$1
START_COMP=$2
END_COMP=$3

echo "Procesando Batch $BATCH_NUM: Componentes $START_COMP-$END_COMP"

# 1. Crear SQLs
# 2. Actualizar Vues
# 3. Crear deploy consolidado
# 4. Generar documentaci√≥n

echo "‚úÖ Batch $BATCH_NUM completado"
```

---

## üìã CHECKLIST POR BATCH

- [ ] Identificar 5 componentes del batch
- [ ] Verificar SPs existentes en database/database/
- [ ] Crear deploy SQL individual para cada componente
- [ ] Actualizar componente Vue con patr√≥n de 6 par√°metros
- [ ] Crear DEPLOY_BATCH_X.sql consolidado
- [ ] Ejecutar queries de verificaci√≥n
- [ ] Generar documentaci√≥n del batch
- [ ] Actualizar progreso en RESUMEN_FINAL_MODULO.md

---

## üéØ OBJETIVO FINAL

**Meta:** 95/95 componentes funcionales (100%)
**SPs estimados:** ~350-400 stored procedures
**Tiempo total estimado:** 15-19 horas
**Progreso actual:** 21.1% (20/95)
**Progreso esperado al completar:** 100%

---

## üìû COMANDOS √öTILES

### Listar componentes pendientes:
```bash
find RefactorX/FrontEnd/src/views/modules/padron_licencias -name "*.vue" | \
  grep -v -E "(Agendavisitasfrm|BloquearAnunciorm|BloquearLicenciafrm|...)" | \
  wc -l
```

### Contar SPs por componente:
```bash
grep -l "sp_nombre_*" database/database/*.sql | wc -l
```

### Verificar patr√≥n en Vue:
```bash
grep -n "execute(" componente.vue | grep -v "null, 'public'"
```

---

**Generado:** 2025-11-20
**Estado:** üìã PLAN DOCUMENTADO
**Pr√≥ximo:** Continuar con Batch 5 (Componentes 21-25)
**Velocidad actual:** 8.6 comp/hora

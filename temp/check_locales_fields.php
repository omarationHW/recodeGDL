<?php $pdo = new PDO("pgsql:host=192.168.6.146;port=5432;dbname=mercados", "refact", "FF)-BQk2", [PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION]); echo "Campos de publico.ta_11_locales:\n"; $cols = $pdo->query("SELECT column_name, data_type FROM information_schema.columns WHERE table_schema = 'publico' AND table_name = 'ta_11_locales' ORDER BY ordinal_position")->fetchAll(PDO::FETCH_ASSOC); foreach ($cols as $c) { echo "  • {$c['column_name']}: {$c['data_type']}\n"; } echo "\nCampos relevantes para el reporte:\n"; $campos_buscar = ['mercado', 'num_mercado', 'estado', 'vigencia', 'renta', 'giro', 'seccion', 'local']; foreach ($campos_buscar as $campo) { $campo_clean = str_replace("'", "", $campo); $exists = $pdo->query("SELECT column_name, data_type FROM information_schema.columns WHERE table_schema = 'publico' AND table_name = 'ta_11_locales' AND column_name = '$campo_clean'")->fetch(PDO::FETCH_ASSOC); if ($exists) { echo "  ✅ $campo_clean: {$exists['data_type']}\n"; } else { echo "  ❌ $campo_clean: NO EXISTE\n"; } } ?>
